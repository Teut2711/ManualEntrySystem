(this.webpackJsonpnirogyan=this.webpackJsonpnirogyan||[]).push([[0],{159:function(e,t,n){},161:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(59),i=n.n(c),s=(n(159),n(15)),o=(n(160),n(161),n(141)),u=n(181),l=n(185),j=n(171),b=n(5);var d=function(){return Object(b.jsx)(l.a,{trigger:Object(b.jsx)(j.a,{type:"button",icon:"info"}),header:"Reminder!",content:"Patient report"})},O=function(){var e=Object(a.useState)("home"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(e,t){var n=t.name;return r(n)};return Object(b.jsxs)(o.a,{style:{width:"100%"},children:[Object(b.jsx)(o.a.Item,{name:"home",active:"home"===n,onClick:c}),Object(b.jsx)(o.a.Item,{name:"login",active:"login"===n,onClick:c}),Object(b.jsxs)(o.a.Menu,{position:"right",children:[Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(u.a,{icon:"search",placeholder:"Search..."})}),Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(d,{})})]})]})},p=n(16),m=n(17),h=n(143),x=n(187),v=n(184),f=n(64),g=n(189),y=n(186),S=n(44),C=n(67),E=n(182),T=n(94),I=n.n(T),k=function(e,t){var n=function(e,t){var n=t.name,a=t.value;r(n,a)},a=Object(f.c)(),r=a.setValue,c=a.getValues,i=a.register,s=a.formState.errors;return Object.values(e).map((function(e,a){var r,o=e.props,u=e.validation,l=function(e){var n=Object(p.a)(Object(p.a)({},e),{},{name:t(e.name)});return n.id=n.name,n.defaultValue=c(n.name)||e.defaultValue||"",n}(o),j=null===(r=I.a.get(s,l.name))||void 0===r?void 0:r.message;return Object(b.jsxs)(v.a.Group,{widths:"equal",children:[Object(b.jsx)(v.a.Field,Object(p.a)(Object(p.a)(Object(p.a)({fluid:!0,control:P(l.type)},i(l.name,Object(p.a)({},u))),l),{},{onChange:n})),j&&Object(b.jsx)("p",{style:{color:"red"},children:j})]},a.toString())}))},P=function(e){switch(e){case"select":return E.a;default:return u.a}},R=function(e){var t=e.testID,n=Object(a.useContext)(G).appState;return k(n.patient.testSpec,(function(e){return"patient.tests.".concat(t,".").concat(e)}))},A=function(){var e=Object(f.c)(),t=e.setError,n=e.unregister,r=e.getValues,c=Object(a.useContext)(H),i=c.counter,o=c.setCounter,u=c.setTestList,d=Object(a.useState)(!1),O=Object(s.a)(d,2),m=O[0],h=O[1],x="test".concat(i);return Object(b.jsxs)(l.a,{onOpen:function(){return h(!0)},open:m,trigger:Object(b.jsxs)(j.a,{positive:!0,type:"button",children:["Add Test",Object(b.jsx)("span",{children:Object(b.jsx)(C.a,{name:"plus circle"})})]}),children:[Object(b.jsx)(l.a.Header,{children:Object(b.jsx)(y.a,{attached:!0,header:"Add a test",content:"Fill out the test details."})}),Object(b.jsx)(l.a.Content,{children:Object(b.jsx)(R,{testID:x})}),Object(b.jsxs)(l.a.Actions,{children:[Object(b.jsx)(j.a,{color:"green",type:"button",onClick:function(){u((function(e){var n=r("patient.tests.".concat(x,".name"));if(Object.values(r("patient.tests")).map((function(e){return e.name})).slice(0,-1).includes(n))return t("patient.tests.".concat(x,".name"),{type:"TEST_ALREADY_EXISTS",message:"Test with this name already exists"},{shouldFocus:!0}),e;var a=Object(p.a)(Object(p.a)({},e),{},Object(S.a)({},x,{text:r("patient.tests.".concat(x,".name")),index:i}));return o((function(e){return e+1})),h(!1),a}))},children:"OK"},0),Object(b.jsx)(j.a,{color:"black",type:"button",onClick:function(){n("patient.tests.".concat(x)),h(!1)},children:"Cancel"},1)]})]})},w=function(){var e=Object(a.useContext)(G).appState;return k(e.patient.detailsSpec,(function(e){return"patient.".concat(e)}))},L=function(){return[{menuItem:{header:!0,content:Object(b.jsx)(g.a,{as:"h3",children:"Patient Profile"}),active:!1,disabled:!0},render:function(){x.a.Pane}},{menuItem:{content:"Details",color:"violet"},render:function(){return Object(b.jsxs)(x.a.Pane,{children:[Object(b.jsx)(y.a,{attached:!0,header:"Patient Details",content:"Fill out the patient details."}),Object(b.jsx)(w,{}),Object(b.jsx)(A,{}),Object(b.jsx)(j.a,{color:"violet",type:"submit",children:"Submit"})]},"Patient Profile")}}]},F=n(96),q=n(183),N={loading:!1,results:[],value:""},V=function(e,t){switch(t.type){case"CLEAN_QUERY":return N;case"START_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,value:t.query});case"FINISH_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,results:t.results});case"UPDATE_SELECTION":return Object(p.a)(Object(p.a)({},e),{},{value:t.selection});default:throw new Error}},D=function(){var e=Object(a.useReducer)(V,N),t=Object(s.a)(e,2),n=t[0],r=t[1],c=n.loading,i=n.results,o=n.value,u=Object(a.useRef)(),l=Object(a.useContext)(U).setCurrentTabIndex,j=Object(a.useContext)(H).testList,d=Object(a.useCallback)((function(e,t){clearTimeout(u.current),r({type:"START_SEARCH",query:t.value}),u.current=setTimeout((function(){if(0!==t.value.length){var e=new RegExp(I.a.escapeRegExp(t.value),"i");r({type:"FINISH_SEARCH",results:I.a.filter(Object.values(j),(function(t){return e.test(t.text)}))})}else r({type:"CLEAN_QUERY"})}),300)}),[j]);Object(a.useEffect)((function(){return function(){clearTimeout(u.current)}}),[]);var O=Object.fromEntries(Object.values(j).sort((function(e,t){return e.counter-t.counter})).map((function(e,t){return[e.text,t]})));return Object(b.jsx)(q.a,{loading:c,onResultSelect:function(e,t){r({type:"UPDATE_SELECTION",selection:t.result.title})},onSearchChange:d,resultRenderer:function(e){var t=e.text;return Object(b.jsx)(F.a,{content:t,onClick:function(){l(O[t]+L().length+1)}})},results:i,value:o})},_=function(e,t){return[{menuItem:{header:!0,content:Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(g.a,{as:"h3",children:"Tests"})," ",Object(b.jsx)(D,{})]}),active:!1,disabled:!0},render:function(){return Object(b.jsx)(x.a.Pane,{},"Tests Heading")}}].concat(Object(m.a)(function(e,t){return Object.keys(e).map((function(n){return{menuItem:{content:e[n].text,color:"violet"},render:function(){return Object(b.jsxs)(x.a.Pane,{children:[Object(b.jsx)(y.a,{attached:!0,header:"Test Details",content:"Fill out the test details."}),Object(b.jsx)(R,{testID:n}),Object(b.jsx)(A,{}),Object(b.jsx)(j.a,{color:"red",type:"button",onClick:function(e){return t(e,n)},children:"Remove test"}),Object(b.jsx)(j.a,{color:"violet",type:"submit",children:"Submit"})]},n)}}}))}(e,t)))},H=Object(a.createContext)({}),U=Object(a.createContext)({}),B=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(f.b)({shouldUnregister:!1}),j=Object(a.useState)(1),d=Object(s.a)(j,2),O=d[0],g=d[1],y=[].concat(Object(m.a)(L()),Object(m.a)(_(n,(function(e,t){r((function(e){return n=e,a=function(e){var n=Object(s.a)(e,2),a=n[0];return n[1],a!==t},Object.fromEntries(Object.entries(n).filter(a));var n,a})),l.unregister("patient.tests.".concat(t)),g(0)}))));return Object(b.jsx)(h.a.Column,{width:16,children:Object(b.jsx)(f.a,Object(p.a)(Object(p.a)({},Object(p.a)({},l)),{},{children:Object(b.jsx)(H.Provider,{value:{counter:o,setCounter:u,testList:n,setTestList:r},children:Object(b.jsx)(U.Provider,{value:{currentTabIndex:O,setCurrentTabIndex:g},children:Object(b.jsx)(v.a,{className:"attached fluid segment",method:"post",action:"http://localhost:8000",children:Object(b.jsx)(x.a,{menu:{fluid:!0,vertical:!0,tabular:!0},panes:y,activeIndex:O,onTabChange:function(e,t){var n=t.activeIndex;g(n)}})})})})}))})},M={name:{props:{type:"text",name:"name",label:"Name",placeholder:"Enter name...",defaultValue:""},validation:{required:!0}},gender:{props:{type:"select",name:"gender",label:"Gender",placeholder:"Enter gender...",defaultValue:"male",options:[{key:"m",text:"Male",value:"male"},{key:"f",text:"Female",value:"female"},{key:"o",text:"Other",value:"other"}]},validation:{required:!0}},age:{props:{type:"number",name:"age",label:"Age",placeholder:"Enter age...",min:0,defaultValue:0},validation:{required:!0,valueAsNumber:!0}},referredBy:{props:{type:"text",name:"referredBy",label:"Referred By",placeholder:"Enter referred by...",defaultValue:""},validation:{required:!0}}},Y={name:{props:{type:"text",name:"name",label:"Name",placeholder:"Enter name..."},validation:{required:!0}},observationTime:{props:{type:"time",name:"observationTime",label:"Observation Time",placeholder:"Enter observation time..."},validation:{required:!0}},value:{props:{type:"text",name:"value",label:"Value",placeholder:"Enter value..."},validation:{required:!0,valueAsNumber:!0}},unit:{props:{type:"select",name:"unit",label:"Unit",placeholder:"Enter unit...",options:[{key:"0",text:"mg/L",value:"mgL"},{key:"1",text:"kg/L",value:"kgL"}]},validation:{required:!0}},method:{props:{type:"text",name:"method",label:"Method",placeholder:"Enter method..."},validation:{required:!0}},impression:{props:{type:"text",name:"impression",label:"Impression",placeholder:"Enter impression..."},validation:{required:!0}}},G=Object(a.createContext)();var J=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({name:"profile",index:null}),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)({patient:{detailsSpec:M,testSpec:Y}}),j=Object(s.a)(l,2),d=j[0],p=j[1];return Object(b.jsx)(G.Provider,{value:{appState:d,setAppState:p,patientPackages:n,setPatientPackages:r,formview:o,setFormView:u},children:Object(b.jsxs)(h.a,{columns:2,divided:!0,children:[Object(b.jsx)(h.a.Row,{children:Object(b.jsx)(O,{})}),Object(b.jsx)(h.a.Row,{children:Object(b.jsx)(B,{})})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root")),Q()}},[[170,1,2]]]);
//# sourceMappingURL=main.698314fb.chunk.js.map